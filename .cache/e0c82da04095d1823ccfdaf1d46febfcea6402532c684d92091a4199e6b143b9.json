{
  "url": "https://ai.google.dev/gemini-api/docs/ephemeral-tokens",
  "markdown": "# Ephemeral tokens  |  Gemini API  |  Google AI for Developers\n[Skip to main content](#main-content)\n [![Google AI for Developers](https://www.gstatic.com/devrel-devsite/prod/va55008f56463f12ba1a0c4ec3fdc81dac4d4d331f95ef7b209d2570e7d9e879b/googledevai/images/lockup-new.svg)](https://ai.google.dev/)\n[Models](https://ai.google.dev/gemini-api/docs)\n-   Gemini\n-   [\n    About\n    ](https://deepmind.google/gemini)\n-   [\n    Docs\n    ](https://ai.google.dev/gemini-api/docs)\n-   [\n    API reference\n    ](https://ai.google.dev/api)\n-   [\n    Pricing\n    ](https://ai.google.dev/pricing)\n-   Imagen\n-   [\n    About\n    ](https://deepmind.google/technologies/imagen-3/)\n-   [\n    Docs\n    ](https://ai.google.dev/gemini-api/docs/image-generation#imagen)\n-   [\n    Pricing\n    ](https://ai.google.dev/pricing)\n-   Veo\n-   [\n    About\n    ](https://deepmind.google/technologies/veo/veo-2/)\n-   [\n    Docs\n    ](https://ai.google.dev/gemini-api/docs/video)\n-   [\n    Pricing\n    ](https://ai.google.dev/pricing)\n-   Gemma\n-   [\n    About\n    ](https://deepmind.google/models/gemma)\n-   [\n    Docs\n    ](https://ai.google.dev/gemma/docs)\n-   [\n    Gemmaverse\n    ](https://ai.google.dev/gemma/gemmaverse)\nSolutions\n-   Build with Gemini\n-   [\n    Gemini API\n    ](https://ai.google.dev/gemini-api/docs)\n-   [\n    Google AI Studio\n    ](https://aistudio.google.com)\n-   Customize Gemma open models\n-   [\n    Gemma open models\n    ](https://ai.google.dev/gemma)\n-   [\n    Multi-framework with Keras\n    ](https://keras.io/keras_3/)\n-   [\n    Fine-tune in Colab\n    ](https://colab.sandbox.google.com/github/google/generative-ai-docs/blob/main/site/en/gemma/docs/lora_tuning.ipynb)\n-   Run on-device\n-   [\n    Google AI Edge\n    ](https://ai.google.dev/edge)\n-   [\n    Gemini Nano on Android\n    ](https://developer.android.com/ai/gemini-nano)\n-   [\n    Chrome built-in web APIs\n    ](https://developer.chrome.com/docs/ai/built-in)\n-   Build responsibly\n-   [\n    Responsible GenAI Toolkit\n    ](https://ai.google.dev/responsible)\n-   [\n    Secure AI Framework\n    ](https://saif.google)\nCode assistance\n-   [\n    Android Studio\n    ](https://developer.android.com/gemini-in-android)\n-   [\n    Chrome DevTools\n    ](https://developer.chrome.com/docs/devtools/console/understand-messages)\n-   [\n    Colab\n    ](https://colab.google)\n-   [\n    Firebase\n    ](https://firebase.google.com/products/generative-ai)\n-   [\n    Google Cloud\n    ](https://cloud.google.com/products/gemini/code-assist)\n-   [\n    JetBrains\n    ](https://plugins.jetbrains.com/plugin/8079-google-cloud-code)\n-   [\n    Jules\n    ](https://labs.google.com/jules/home)\n-   [\n    VS Code\n    ](https://marketplace.visualstudio.com/items?itemName=GoogleCloudTools.cloudcode)\nShowcase\n-   [\n    Gemini Showcase\n    ](https://ai.google.dev/showcase)\n-   [\n    Gemini API Developer Competition\n    ](https://ai.google.dev/competition)\nCommunity\n-   [\n    Google AI Forum\n    ](https://discuss.ai.google.dev)\n-   [\n    Gemini for Research\n    ](https://ai.google.dev/gemini-api/docs/gemini-for-research)\n/\n-   English\n-   Deutsch\n-   Español – América Latina\n-   Français\n-   Indonesia\n-   Italiano\n-   Polski\n-   Português – Brasil\n-   Shqip\n-   Tiếng Việt\n-   Türkçe\n-   Русский\n-   עברית\n-   العربيّة\n-   فارسی\n-   हिंदी\n-   বাংলা\n-   ภาษาไทย\n-   中文 – 简体\n-   中文 – 繁體\n-   日本語\n-   한국어\nSign in\n[Gemini API docs](https://ai.google.dev/gemini-api/docs) [API Reference](https://ai.google.dev/api) [Cookbook](https://github.com/google-gemini/cookbook) [Community](https://discuss.ai.google.dev/c/gemini-api/) [![Google AI for Developers](https://www.gstatic.com/devrel-devsite/prod/va55008f56463f12ba1a0c4ec3fdc81dac4d4d331f95ef7b209d2570e7d9e879b/googledevai/images/lockup-new.svg)](https://ai.google.dev/)\n-   [Models](https://ai.google.dev/gemini-api/docs)\n    -   More\n    -   [Gemini API docs](https://ai.google.dev/gemini-api/docs)\n    -   [API Reference](https://ai.google.dev/api)\n    -   [Cookbook](https://github.com/google-gemini/cookbook)\n    -   [Community](https://discuss.ai.google.dev/c/gemini-api/)\n-   Solutions\n    -   More\n-   Code assistance\n    -   More\n-   Showcase\n    -   More\n-   Community\n    -   More\n-   Get started\n-   [Overview](https://ai.google.dev/gemini-api/docs)\n-   [Quickstart](https://ai.google.dev/gemini-api/docs/quickstart)\n-   [API keys](https://ai.google.dev/gemini-api/docs/api-key)\n-   [Libraries](https://ai.google.dev/gemini-api/docs/libraries)\n-   [OpenAI compatibility](https://ai.google.dev/gemini-api/docs/openai)\n-   Models\n-   [All models](https://ai.google.dev/gemini-api/docs/models)\n-   [Pricing](https://ai.google.dev/gemini-api/docs/pricing)\n-   [Rate limits](https://ai.google.dev/gemini-api/docs/rate-limits)\n-   [Billing info](https://ai.google.dev/gemini-api/docs/billing)\n-   Model Capabilities\n-   [Text generation](https://ai.google.dev/gemini-api/docs/text-generation)\n-   [Image generation](https://ai.google.dev/gemini-api/docs/image-generation)\n-   [Video generation](https://ai.google.dev/gemini-api/docs/video)\n-   [Speech generation](https://ai.google.dev/gemini-api/docs/speech-generation)\n-   [Music generation](https://ai.google.dev/gemini-api/docs/music-generation)\n-   [Long context](https://ai.google.dev/gemini-api/docs/long-context)\n-   [Structured output](https://ai.google.dev/gemini-api/docs/structured-output)\n-   [Thinking](https://ai.google.dev/gemini-api/docs/thinking)\n-   [Function calling](https://ai.google.dev/gemini-api/docs/function-calling)\n-   [Document understanding](https://ai.google.dev/gemini-api/docs/document-processing)\n-   [Image understanding](https://ai.google.dev/gemini-api/docs/image-understanding)\n-   [Video understanding](https://ai.google.dev/gemini-api/docs/video-understanding)\n-   [Audio understanding](https://ai.google.dev/gemini-api/docs/audio)\n-   [Code execution](https://ai.google.dev/gemini-api/docs/code-execution)\n-   [URL context](https://ai.google.dev/gemini-api/docs/url-context)\n-   [Google Search](https://ai.google.dev/gemini-api/docs/google-search)\n-   Guides\n-   [Prompt engineering](https://ai.google.dev/gemini-api/docs/prompting-strategies)\n-   Live API\n    -   [Get started](https://ai.google.dev/gemini-api/docs/live)\n    -   [Capabilities](https://ai.google.dev/gemini-api/docs/live-guide)\n    -   [Tool use](https://ai.google.dev/gemini-api/docs/live-tools)\n    -   [Session management](https://ai.google.dev/gemini-api/docs/live-session)\n    -   [Ephemeral tokens](https://ai.google.dev/gemini-api/docs/ephemeral-tokens)\n-   [Context caching](https://ai.google.dev/gemini-api/docs/caching)\n-   [Files API](https://ai.google.dev/gemini-api/docs/files)\n-   [Token counting](https://ai.google.dev/gemini-api/docs/tokens)\n-   Fine-tuning\n    -   [Intro to fine-tuning](https://ai.google.dev/gemini-api/docs/model-tuning)\n    -   [Fine-tuning tutorial](https://ai.google.dev/gemini-api/docs/model-tuning/tutorial)\n-   [Embeddings](https://ai.google.dev/gemini-api/docs/embeddings)\n-   Safety\n    -   [Safety settings](https://ai.google.dev/gemini-api/docs/safety-settings)\n    -   [Safety guidance](https://ai.google.dev/gemini-api/docs/safety-guidance)\n-   Resources\n-   [Migrate to Gen AI SDK](https://ai.google.dev/gemini-api/docs/migrate)\n-   [Release notes](https://ai.google.dev/gemini-api/docs/changelog)\n-   [API troubleshooting](https://ai.google.dev/gemini-api/docs/troubleshooting)\n-   Open-Source Frameworks\n    -   [LangChain & LangGraph](https://ai.google.dev/gemini-api/docs/langgraph-example)\n    -   [CrewAI](https://ai.google.dev/gemini-api/docs/crewai-example)\n-   AI Studio\n    -   [Google AI Studio quickstart](https://ai.google.dev/gemini-api/docs/ai-studio-quickstart)\n    -   [LearnLM](https://ai.google.dev/gemini-api/docs/learnlm)\n    -   [AI Studio troubleshooting](https://ai.google.dev/gemini-api/docs/troubleshoot-ai-studio)\n    -   [Google Workspace](https://ai.google.dev/gemini-api/docs/workspace)\n-   Google Cloud Platform\n    -   [VertexAI Gemini API](https://ai.google.dev/gemini-api/docs/migrate-to-cloud)\n    -   [OAuth authentication](https://ai.google.dev/gemini-api/docs/oauth)\n-   Policies\n-   [Terms of service](https://ai.google.dev/gemini-api/terms)\n-   [Available regions](https://ai.google.dev/gemini-api/docs/available-regions)\n-   [Additional usage polices](https://ai.google.dev/gemini-api/docs/usage-policies)\n-   Gemini\n-   [About](https://deepmind.google/gemini)\n-   [Docs](https://ai.google.dev/gemini-api/docs)\n-   [API reference](https://ai.google.dev/api)\n-   [Pricing](https://ai.google.dev/pricing)\n-   Imagen\n-   [About](https://deepmind.google/technologies/imagen-3/)\n-   [Docs](https://ai.google.dev/gemini-api/docs/image-generation#imagen)\n-   [Pricing](https://ai.google.dev/pricing)\n-   Veo\n-   [About](https://deepmind.google/technologies/veo/veo-2/)\n-   [Docs](https://ai.google.dev/gemini-api/docs/video)\n-   [Pricing](https://ai.google.dev/pricing)\n-   Gemma\n-   [About](https://deepmind.google/models/gemma)\n-   [Docs](https://ai.google.dev/gemma/docs)\n-   [Gemmaverse](https://ai.google.dev/gemma/gemmaverse)\n-   Build with Gemini\n-   [Gemini API](https://ai.google.dev/gemini-api/docs)\n-   [Google AI Studio](https://aistudio.google.com)\n-   Customize Gemma open models\n-   [Gemma open models](https://ai.google.dev/gemma)\n-   [Multi-framework with Keras](https://keras.io/keras_3/)\n-   [Fine-tune in Colab](https://colab.sandbox.google.com/github/google/generative-ai-docs/blob/main/site/en/gemma/docs/lora_tuning.ipynb)\n-   Run on-device\n-   [Google AI Edge](https://ai.google.dev/edge)\n-   [Gemini Nano on Android](https://developer.android.com/ai/gemini-nano)\n-   [Chrome built-in web APIs](https://developer.chrome.com/docs/ai/built-in)\n-   Build responsibly\n-   [Responsible GenAI Toolkit](https://ai.google.dev/responsible)\n-   [Secure AI Framework](https://saif.google)\n-   [Android Studio](https://developer.android.com/gemini-in-android)\n-   [Chrome DevTools](https://developer.chrome.com/docs/devtools/console/understand-messages)\n-   [Colab](https://colab.google)\n-   [Firebase](https://firebase.google.com/products/generative-ai)\n-   [Google Cloud](https://cloud.google.com/products/gemini/code-assist)\n-   [JetBrains](https://plugins.jetbrains.com/plugin/8079-google-cloud-code)\n-   [Jules](https://labs.google.com/jules/home)\n-   [VS Code](https://marketplace.visualstudio.com/items?itemName=GoogleCloudTools.cloudcode)\n-   [Gemini Showcase](https://ai.google.dev/showcase)\n-   [Gemini API Developer Competition](https://ai.google.dev/competition)\n-   [Google AI Forum](https://discuss.ai.google.dev)\n-   [Gemini for Research](https://ai.google.dev/gemini-api/docs/gemini-for-research)\nIntroducing updates to our 2.5 family of thinking models. [Learn more](https://ai.google.dev/gemini-api/docs/models)\n-   [Home](https://ai.google.dev/)\n-   [Gemini API](https://ai.google.dev/gemini-api)\n-   [Models](https://ai.google.dev/gemini-api/docs)\nSend feedback\n# Ephemeral tokens\nEphemeral tokens are short-lived authentication tokens for accessing the Gemini API through [WebSockets](https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API). They are designed to enhance security when you are connecting directly from a user's device to the API (a [client-to-server](https://ai.google.dev/gemini-api/docs/live#implementation-approach) implementation). Like standard API keys, ephemeral tokens can be extracted from client-side applications such as web browsers or mobile apps. But because ephemeral tokens expire quickly and can be restricted, they significantly reduce the security risks in a production environment.\n**Note:** Ephemeral tokens are only compatible with [Live API](https://ai.google.dev/gemini-api/docs/live) at this time. You should use them when accessing the Live API directly from client-side applications to enhance API key security.\n## How ephemeral tokens work\nHere's how ephemeral tokens work at a high level:\n1.  Your client (e.g. web app) authenticates with your backend.\n2.  Your backend requests an ephemeral token from Gemini API's provisioning service.\n3.  Gemini API issues a short-lived token.\n4.  Your backend sends the token to the client for WebSocket connections to Live API. You can do this by swapping your API key with an ephemeral token.\n5.  The client then uses the token as if it were an API key.\n![Ephemeral tokens overview](https://ai.google.dev/static/gemini-api/docs/images/Live_API_01.png)\nThis enhances security because even if extracted, the token is short-lived, unlike a long-lived API key deployed client-side. Since the client sends data directly to Gemini, this also improves latency and avoids your backends needing to proxy the real time data.\n## Create an ephemeral token\nHere is a simplified example of how to get an ephemeral token from Gemini. By default, you'll have 1 minute to start new Live API sessions using the token from this request (`newSessionExpireTime`), and 30 minutes to send messages over that connection (`expireTime`).\n### Python\n```\nimport datetime\nnow = datetime.datetime.now(tz=datetime.timezone.utc)\nclient = genai.Client(\n    api_key=\"GEMINI_API_KEY\",\n    http_options={'api_version': 'v1alpha',}\n)\ntoken = client.auth_tokens.create(\n    config = {\n    'uses': 1, # The ephemeral token can only be used to start a single session\n    'expire_time': now + datetime.timedelta(minutes=30), # Default is 30 minutes in the future\n    # 'expire_time': '2025-05-17T00:00:00Z',   # Accepts isoformat.\n    'new_session_expire_time': now + datetime.timedelta(minutes=1), # Default 1 minute in the future\n    'http_options': {'api_version': 'v1alpha'},\n  }\n)\n# You'll need to pass the value under token.name back to your client to use it\n```\n### JavaScript\n```\nimport { GoogleGenAI } from \"@google/genai\";\nconst client = new GoogleGenAI({ apiKey: \"GEMINI_API_KEY\" });\nconst expireTime = new Date(Date.now() + 30 * 60 * 1000).toISOString();\n  const token: AuthToken = await client.authTokens.create({\n    config: {\n      uses: 1, // The default\n      expireTime: expireTime // Default is 30 mins\n      newSessionExpireTime: new Date(Date.now() + (1 * 60 * 1000)), // Default 1 minute in the future\n      httpOptions: {apiVersion: 'v1alpha'},\n    },\n  });\n```\nFor `expireTime` value constraints, defaults, and other field specs, see the [API reference](https://ai.google.dev/api/live#ephemeral-auth-tokens). Within the `expireTime` timeframe, you'll need [`sessionResumption`](https://ai.google.dev/gemini-api/docs/live-session#session-resumption) to reconnect the call every 10 minutes (this can be done with the same token even if `uses: 1`).\nIt's also possible to lock an ephemeral token to a set of configurations. This might be useful to further improve security of your application and keep your system instructions on the server side.\n### Python\n```\nclient = genai.Client(\n    api_key=\"GEMINI_API_KEY\",\n    http_options={'api_version': 'v1alpha',}\n)\ntoken = client.auth_tokens.create(\n    config = {\n    'uses': 1,\n    'live_connect_constraints': {\n        'model': 'gemini-2.0-flash-live-001',\n        'config': {\n            'session_resumption':{},\n            'temperature':0.7,\n            'response_modalities':['TEXT']\n        }\n    },\n    'http_options': {'api_version': 'v1alpha'},\n    }\n)\n# You'll need to pass the value under token.name back to your client to use it\n```\n### JavaScript\n```\nimport { GoogleGenAI } from \"@google/genai\";\nconst client = new GoogleGenAI({ apiKey: \"GEMINI_API_KEY\" });\nconst expireTime = new Date(Date.now() + 30 * 60 * 1000).toISOString();\nconst token = await client.authTokens.create({\n    config: {\n        uses: 1, // The default\n        expireTime: expireTime,\n        liveConnectConstraints: {\n            model: 'gemini-2.0-flash-live-001',\n            config: {\n                sessionResumption: {},\n                temperature: 0.7,\n                responseModalities: ['TEXT']\n            }\n        },\n        httpOptions: {\n            apiVersion: 'v1alpha'\n        }\n    }\n});\n// You'll need to pass the value under token.name back to your client to use it\n```\nYou can also lock a subset of fields, see the [SDK documentation](https://googleapis.github.io/python-genai/genai.html#genai.types.CreateAuthTokenConfig.lock_additional_fields) for more info.\n## Connect to Live API with an ephemeral token\nHere's an example that connects to Live API through an ephemeral token. Note that use of ephemeral tokens only adds value when deploying applications that follow [client-to-server implementation](https://ai.google.dev/gemini-api/docs/live#implementation-approach) approach.\n### JavaScript\n```\nimport { GoogleGenAI, Modality } from '@google/genai';\n// Use the token generated in the \"Create an ephemeral token\" section here\nconst ai = new GoogleGenAI({ apiKey: token.name });\nconst model = 'gemini-2.0-flash-live-001';\nconst config = { responseModalities: [Modality.TEXT] };\nasync function main() {\n  const session = await ai.live.connect({\n    model: model,\n    config: config,\n    callbacks: { ... },\n  });\n  // Send content...\n  session.close();\n}\nmain();\n```\n**Note:** If not using the SDK, note that ephemeral tokens must either be passed in an `access_token` query parameter, or in an HTTP `Authorization` prefixed by the [auth-scheme](https://datatracker.ietf.org/doc/html/rfc7235#section-2.1) `Token`.\nSee [Get started with Live API](https://ai.google.dev/gemini-api/docs/live) for more examples.\n## Best practices\n-   Set a short expiration duration using the `expire_time` parameter.\n-   Tokens expire, requiring re-initiation of the provisioning process.\n-   Verify secure authentication for your own backend. Ephemeral tokens will only be as secure as your backend authentication method.\n-   Generally, avoid using ephemeral tokens for backend-to-Gemini connections, as this path is typically considered secure.\n## Limitations\nEphemeral tokens are only compatible with [Live API](https://ai.google.dev/gemini-api/docs/live) at this time.\n## What's next\n-   Read the Live API [reference](https://ai.google.dev/api/live#ephemeral-auth-tokens) on ephemeral tokens for more information.\nSend feedback\nExcept as otherwise noted, the content of this page is licensed under the [Creative Commons Attribution 4.0 License](https://creativecommons.org/licenses/by/4.0/), and code samples are licensed under the [Apache 2.0 License](https://www.apache.org/licenses/LICENSE-2.0). For details, see the [Google Developers Site Policies](https://developers.google.com/site-policies). Java is a registered trademark of Oracle and/or its affiliates.\nLast updated 2025-06-10 UTC.\n-   [Terms](//policies.google.com/terms)\n-   [Privacy](//policies.google.com/privacy)\n-   [Manage cookies](#)\n-   English\n-   Deutsch\n-   Español – América Latina\n-   Français\n-   Indonesia\n-   Italiano\n-   Polski\n-   Português – Brasil\n-   Shqip\n-   Tiếng Việt\n-   Türkçe\n-   Русский\n-   עברית\n-   العربيّة\n-   فارسی\n-   हिंदी\n-   বাংলা\n-   ภาษาไทย\n-   中文 – 简体\n-   中文 – 繁體\n-   日本語\n-   한국어",
  "timestamp": 1750652827635,
  "title": "Ephemeral tokens  |  Gemini API  |  Google AI for Developers"
}